# ğŸ˜ï¸ Donation Village (ê¸°ë¶€ ë§ˆì„)

ë¸”ë¡ì²´ì¸ ê¸°ë°˜ íˆ¬ëª…í•œ ê¸°ë¶€ ê²Œì„ í”Œë«í¼

[![Deployed on Vercel](https://img.shields.io/badge/Deployed-Vercel-black?logo=vercel)](https://frontend-5744l5ppb-yenas-projects-4e17e81d.vercel.app)
[![Blockchain](https://img.shields.io/badge/Blockchain-Arbitrum%20Sepolia-blue)](https://sepolia.arbiscan.io/)
[![Database](https://img.shields.io/badge/Database-Supabase-green)](https://supabase.com/)

## ğŸ® í”„ë¡œì íŠ¸ ê°œìš”

Donation VillageëŠ” ë¸”ë¡ì²´ì¸ ê¸°ìˆ ê³¼ ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ì„ ê²°í•©í•˜ì—¬ íˆ¬ëª…í•˜ê³  ì¦ê±°ìš´ ê¸°ë¶€ ê²½í—˜ì„ ì œê³µí•˜ëŠ” ì›¹ í”Œë«í¼ì…ë‹ˆë‹¤.

### í•µì‹¬ ì»¨ì…‰
- ğŸ  **ê°€ìƒ ë§ˆì„**: ê° ê¸°ë¶€ ìº í˜ì¸ì´ ë§ˆì„ì˜ ì§‘ìœ¼ë¡œ í‘œí˜„ë©ë‹ˆë‹¤
- ğŸ’ **íˆ¬ëª…í•œ ê¸°ë¶€**: ëª¨ë“  ê¸°ë¶€ ë‚´ì—­ì´ Arbitrum L2 ë¸”ë¡ì²´ì¸ì— ì˜êµ¬ ê¸°ë¡ë©ë‹ˆë‹¤
- ğŸ **ë¦¬ì›Œë“œ ì‹œìŠ¤í…œ**: ê¸°ë¶€ ì‹œ í¬ì¸íŠ¸ë¥¼ íšë“í•˜ê³ , ê°€êµ¬ë¡œ ë‚´ ì§‘ì„ ê¾¸ë°€ ìˆ˜ ìˆìŠµë‹ˆë‹¤
- ğŸ† **ë±ƒì§€ ìˆ˜ì§‘**: ê¸°ë¶€ ê¸ˆì•¡ê³¼ íšŸìˆ˜ì— ë”°ë¼ ë‹¤ì–‘í•œ ë±ƒì§€ë¥¼ íšë“í•©ë‹ˆë‹¤
- ğŸ” **DID ì¸ì¦**: íƒˆì¤‘ì•™í™” ì‹ ì› ì¸ì¦ìœ¼ë¡œ ê¸°ë¶€ ì¦ëª…ì„œë¥¼ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤

## ğŸš€ ë°°í¬ ì •ë³´

### í”„ë¡œë•ì…˜ í™˜ê²½
- **Frontend URL**: https://frontend-5744l5ppb-yenas-projects-4e17e81d.vercel.app
- **Hosting**: Vercel (Serverless)
- **Network**: Arbitrum Sepolia Testnet

### ë¸”ë¡ì²´ì¸ ì •ë³´ (íŠ¸ëœì­ì…˜ í™•ì¸)
- **Smart Contract ì£¼ì†Œ**: `0x9e4C6825cbb7a13a0Eb56310239b7A06356E8cA1`
- **Arbiscan (ì»¨íŠ¸ë™íŠ¸)**: https://sepolia.arbiscan.io/address/0x9e4C6825cbb7a13a0Eb56310239b7A06356E8cA1
- **ì „ì²´ íŠ¸ëœì­ì…˜ ë‚´ì—­**: https://sepolia.arbiscan.io/address/0x9e4C6825cbb7a13a0Eb56310239b7A06356E8cA1#internaltx
- **Network**: Arbitrum Sepolia (Chain ID: 421614)

> ğŸ’¡ **íŠ¸ëœì­ì…˜ ì¡°íšŒ ë°©ë²•**: ì•±ì—ì„œ ê¸°ë¶€ í›„ íŠ¸ëœì­ì…˜ í•´ì‹œë¥¼ í´ë¦­í•˜ë©´ Arbiscanì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ë¸”ë¡ì²´ì¸ ê¸°ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜

### ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Frontend (React + TypeScript)                    â”‚
â”‚  - React 18.3.1 + Vite 6.3.5                                â”‚
â”‚  - Tailwind CSS + Radix UI                                  â”‚
â”‚  - ethers.js 6.9.0 (Blockchain ìƒí˜¸ì‘ìš©)                    â”‚
â”‚  - React Context API (ìƒíƒœ ê´€ë¦¬)                            â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                              â”‚
      â”‚ (API í˜¸ì¶œ)                   â”‚ (íŠ¸ëœì­ì…˜)
      â†“                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Backend (Supabase) â”‚    â”‚  Blockchain (Arbitrum Sepolia) â”‚
â”‚                      â”‚    â”‚                                â”‚
â”‚  - PostgreSQL DB     â”‚    â”‚  - Smart Contract (Solidity)   â”‚
â”‚  - Row Level Securityâ”‚    â”‚  - DonationVillage.sol         â”‚
â”‚  - Realtime êµ¬ë…     â”‚    â”‚  - OpenZeppelin 5.0.0          â”‚
â”‚  - Auth (OAuth)      â”‚    â”‚  - Hardhat 2.22.16             â”‚
â”‚  - Hono Functions    â”‚    â”‚  - Gas ìµœì í™” (L2)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Frontend ê¸°ìˆ  ìŠ¤íƒ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| React | 18.3.1 | UI í”„ë ˆì„ì›Œí¬ |
| TypeScript | 5.x | íƒ€ì… ì•ˆì •ì„± |
| Vite | 6.3.5 | ë¹Œë“œ ë„êµ¬ |
| Tailwind CSS | 3.x | ìŠ¤íƒ€ì¼ë§ |
| Radix UI | 1.x | UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| ethers.js | 6.9.0 | ë¸”ë¡ì²´ì¸ ìƒí˜¸ì‘ìš© |
| Vercel | - | ë°°í¬ í”Œë«í¼ |

### Backend ê¸°ìˆ  ìŠ¤íƒ

| ê¸°ìˆ  | ìš©ë„ |
|------|------|
| Supabase | BaaS (Backend as a Service) |
| PostgreSQL | ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ |
| Hono | ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜ ëŸ°íƒ€ì„ |
| Supabase Auth | OAuth ì¸ì¦ (Google) |
| Row Level Security | ë°ì´í„° ë³´ì•ˆ ì •ì±… |

### Blockchain ê¸°ìˆ  ìŠ¤íƒ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Solidity | 0.8.28 | ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì–¸ì–´ |
| Hardhat | 2.22.16 | ê°œë°œ í™˜ê²½ |
| OpenZeppelin | 5.0.0 | ë³´ì•ˆ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| Arbitrum L2 | Sepolia | Layer 2 ë„¤íŠ¸ì›Œí¬ |
| ethers.js | 6.9.0 | ì»¨íŠ¸ë™íŠ¸ ë°°í¬ ë° ìƒí˜¸ì‘ìš© |

## ğŸ”„ ì‹œìŠ¤í…œ ìƒí˜¸ì‘ìš© íë¦„

### 1. ì‚¬ìš©ì ì¸ì¦ (Frontend â†” Backend)

```
[Frontend] â†’ [Supabase Auth]
1. ì‚¬ìš©ìê°€ ì´ë©”ì¼ ë˜ëŠ” Google OAuthë¡œ ë¡œê·¸ì¸
2. Supabaseê°€ JWT í† í° ë°œê¸‰
3. Frontendê°€ ì„ë² ë””ë“œ ì§€ê°‘ ìƒì„± (ethers.Wallet)
4. DID ìƒì„±: did:pkh:eip155:421614:{wallet_address}
5. Supabase DBì— ì‚¬ìš©ì ì •ë³´ ì €ì¥ (wallet_address, email, did)
```

### 2. ê¸°ë¶€ í”„ë¡œì„¸ìŠ¤ (Frontend â†” Blockchain â†” Backend)

```
[Frontend] â†’ [Blockchain] â†’ [Backend DB]

1. ì‚¬ìš©ìê°€ ìº í˜ì¸ ì„ íƒ ë° ê¸ˆì•¡ ì…ë ¥ (KRW)
   - Frontendì—ì„œ KRW â†’ ETH ë³€í™˜ (1 ETH = 3,000,000 KRW)

2. ë¸”ë¡ì²´ì¸ íŠ¸ëœì­ì…˜ ìƒì„±
   - Frontendê°€ ethers.jsë¡œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ í˜¸ì¶œ
   - DonationVillage.donate(campaignId, amount) ì‹¤í–‰
   - MetaMask ë˜ëŠ” ì„ë² ë””ë“œ ì§€ê°‘ìœ¼ë¡œ ì„œëª…

3. Arbitrum L2ì— íŠ¸ëœì­ì…˜ ê¸°ë¡
   - Gas Fee ì§€ë¶ˆ (L2 = ì €ë ´)
   - Event ë°œìƒ: DonationMade(campaignId, donor, amount, txHash)
   - íŠ¸ëœì­ì…˜ì´ Arbiscanì— ì‹¤ì‹œê°„ ê¸°ë¡ë¨

4. Frontendê°€ íŠ¸ëœì­ì…˜ í•´ì‹œ ìˆ˜ì‹ 
   - txHashë¥¼ Supabase DBì— ì €ì¥
   - donations í…Œì´ë¸”ì— ê¸°ë¡ (campaign_id, donor_wallet, amount, tx_hash)
   - ì‚¬ìš©ìëŠ” txHash í´ë¦­ ì‹œ Arbiscanì—ì„œ ë¸”ë¡ì²´ì¸ ê¸°ë¡ í™•ì¸ ê°€ëŠ¥

5. í¬ì¸íŠ¸ ë° ë±ƒì§€ ì—…ë°ì´íŠ¸
   - Backendì—ì„œ í¬ì¸íŠ¸ ìë™ ì§€ê¸‰ (amount * 10)
   - ì¡°ê±´ ì¶©ì¡± ì‹œ ë±ƒì§€ ìë™ ë°œê¸‰
```

### 3. ë°ì´í„° ì¡°íšŒ (Frontend â†” Backend + Blockchain)

```
[Frontend] â† [Supabase DB] + [Blockchain]

ë¹ ë¥¸ ì¡°íšŒ (Supabase):
- ìº í˜ì¸ ëª©ë¡ (campaigns í…Œì´ë¸”)
- ì‚¬ìš©ì í¬ì¸íŠ¸ (users í…Œì´ë¸”)
- ê¸°ë¶€ ë‚´ì—­ ë¦¬ìŠ¤íŠ¸ (donations í…Œì´ë¸”)

ê²€ì¦ ê°€ëŠ¥í•œ ì¡°íšŒ (Blockchain via Arbiscan):
- íŠ¸ëœì­ì…˜ í•´ì‹œë¡œ Arbiscanì—ì„œ ì‹¤ì œ ê¸°ë¡ í™•ì¸
- ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ìº í˜ì¸ ì”ì•¡ í™•ì¸
- ë¶ˆë³€ì„± ë³´ì¥
```

### 4. ë“€ì–¼ ìŠ¤í† ë¦¬ì§€ ì „ëµ

| ë°ì´í„° ìœ í˜• | Supabase (ì¤‘ì•™) | Blockchain (íƒˆì¤‘ì•™) |
|------------|----------------|-------------------|
| ìº í˜ì¸ ì •ë³´ | âœ… ë¹ ë¥¸ ì¡°íšŒ | âœ… ê²€ì¦ ê°€ëŠ¥ |
| ê¸°ë¶€ ë‚´ì—­ | âœ… ê²€ìƒ‰ ë° í•„í„°ë§ | âœ… ë¶ˆë³€ ê¸°ë¡ |
| ì‚¬ìš©ì ì •ë³´ | âœ… ì €ì¥ | âŒ (ê°œì¸ì •ë³´ ë³´í˜¸) |
| í¬ì¸íŠ¸/ë±ƒì§€ | âœ… ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ | âŒ (ë¹„ìš© íš¨ìœ¨ì„±) |
| íŠ¸ëœì­ì…˜ ì¦ëª… | âŒ | âœ… ë¸”ë¡ì²´ì¸ ì¦ëª… |

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Inudonationbcg/
â”œâ”€â”€ frontend/              # React í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/        # Radix UI ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ DonationModal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Inventory.tsx
â”‚   â”‚   â”‚   â””â”€â”€ MyHouse.tsx
â”‚   â”‚   â”œâ”€â”€ pages/         # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ VillagePage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ InventoryPage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ admin/AdminPage.tsx
â”‚   â”‚   â”œâ”€â”€ lib/           # í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”‚   â”‚   â”‚   â”œâ”€â”€ contract.ts        # ë¸”ë¡ì²´ì¸ ìƒí˜¸ì‘ìš©
â”‚   â”‚   â”‚   â”œâ”€â”€ supabase-api.ts    # DB API
â”‚   â”‚   â”‚   â”œâ”€â”€ auth-context.tsx   # ì¸ì¦ ì»¨í…ìŠ¤íŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ did.ts             # DID ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ types/         # TypeScript íƒ€ì…
â”‚   â”œâ”€â”€ vercel.json        # Vercel ë°°í¬ ì„¤ì •
â”‚   â””â”€â”€ vite.config.ts     # Vite ë¹Œë“œ ì„¤ì •
â”‚
â”œâ”€â”€ backend/               # ë°±ì—”ë“œ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ supabase/
â”‚   â”‚   â”œâ”€â”€ schema.sql              # DB ìŠ¤í‚¤ë§ˆ
â”‚   â”‚   â”œâ”€â”€ add-numeric-id.sql      # ë¸”ë¡ì²´ì¸ í˜¸í™˜ì„± ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”‚   â””â”€â”€ seed-data.sql           # ìƒ˜í”Œ ë°ì´í„°
â”‚   â””â”€â”€ functions/
â”‚       â””â”€â”€ verify-donation/        # Hono ì„œë²„ë¦¬ìŠ¤ í•¨ìˆ˜
â”‚
â””â”€â”€ blockchain/            # ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸
    â”œâ”€â”€ contracts/
    â”‚   â””â”€â”€ DonationVillage.sol     # ë©”ì¸ ì»¨íŠ¸ë™íŠ¸
    â”œâ”€â”€ scripts/
    â”‚   â””â”€â”€ deploy.js               # ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
    â”œâ”€â”€ hardhat.config.js           # Hardhat ì„¤ì •
    â””â”€â”€ test/                       # ì»¨íŠ¸ë™íŠ¸ í…ŒìŠ¤íŠ¸
```

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. ê¸°ë¶€ ë§ˆì„ (Village Page)
- ëª¨ë“  ê¸°ë¶€ ìº í˜ì¸ì„ ì§‘ìœ¼ë¡œ ì‹œê°í™”
- ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§ (ë™ë¬¼, í™˜ê²½, êµìœ¡)
- ìº í˜ì¸ ì§„í–‰ ìƒíƒœ ì‹¤ì‹œê°„ í‘œì‹œ
- ë§ˆê°ì¼ D-Day í‘œì‹œ

### 2. ê¸°ë¶€í•˜ê¸° (Donation Flow)
- MetaMask ë˜ëŠ” ì„ë² ë””ë“œ ì§€ê°‘ìœ¼ë¡œ ê¸°ë¶€
- Arbitrum L2ë¡œ ë¹ ë¥´ê³  ì €ë ´í•œ íŠ¸ëœì­ì…˜
- KRW â†’ ETH ìë™ ë³€í™˜ (1 ETH = 3,000,000 KRW)
- ë¸”ë¡ì²´ì¸ íŠ¸ëœì­ì…˜ í•´ì‹œ ë°œê¸‰
- Arbiscanì—ì„œ ì‹¤ì‹œê°„ íŠ¸ëœì­ì…˜ í™•ì¸ ê°€ëŠ¥

### 3. ë‚´ ì§‘ ê¾¸ë¯¸ê¸° (My House)
- í¬ì¸íŠ¸ë¡œ ê°€êµ¬ êµ¬ë§¤
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ë°°ì¹˜
- íšë“í•œ ë±ƒì§€ ì „ì‹œ
- ì§€ê°‘ ì •ë³´ ë° DID í™•ì¸

### 4. ì¸ë²¤í† ë¦¬ (Inventory)
- ê¸°ë¶€ ë‚´ì—­ ì¡°íšŒ (ë¸”ë¡ì²´ì¸ ì—°ë™)
- ë±ƒì§€ ì»¬ë ‰ì…˜
- í¬ì¸íŠ¸ ë° ì§€ê°‘ ì •ë³´
- Arbiscan ì—°ë™ (íŠ¸ëœì­ì…˜ í™•ì¸)

### 5. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (Admin Dashboard)
- ìº í˜ì¸ ìƒì„±, ìˆ˜ì •, ì‚­ì œ
- ì‹¤ì‹œê°„ ê¸°ë¶€ í˜„í™© ëª¨ë‹ˆí„°ë§
- ì¡°ì§/ë‹¨ì²´ ê³„ì • ì „ìš© ê¸°ëŠ¥

## ğŸ”§ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ì‚¬ì „ ìš”êµ¬ì‚¬í•­
- Node.js 18+
- npm ë˜ëŠ” yarn
- MetaMask (ì„ íƒ)

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

**frontend/.env.example**ë¥¼ ì°¸ê³ í•˜ì—¬ `.env` íŒŒì¼ ìƒì„±

```bash
# Supabase (ë³¸ì¸ì˜ Supabase í”„ë¡œì íŠ¸ ì •ë³´ë¡œ êµì²´)
VITE_SUPABASE_PROJECT_ID=your-project-id
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key

# Smart Contract (ì´ë¯¸ ë°°í¬ëœ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ)
VITE_CONTRACT_ADDRESS=0x9e4C6825cbb7a13a0Eb56310239b7A06356E8cA1

# Arbitrum Sepolia Network (ê³µê°œ RPC - ë³€ê²½ ë¶ˆí•„ìš”)
VITE_ARBITRUM_SEPOLIA_RPC=https://sepolia-rollup.arbitrum.io/rpc
VITE_CHAIN_ID=421614

# Backend
VITE_ENABLE_BACKEND=true
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

Supabase SQL Editorì—ì„œ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰:

```sql
-- 1. ê¸°ë³¸ ìŠ¤í‚¤ë§ˆ ìƒì„±
-- backend/supabase/schema.sql ì „ì²´ ë³µì‚¬í•˜ì—¬ ì‹¤í–‰

-- 2. numeric_id ì¶”ê°€ (ë¸”ë¡ì²´ì¸ í˜¸í™˜ì„±)
-- backend/supabase/add-numeric-id.sql ì‹¤í–‰

-- 3. ìƒ˜í”Œ ë°ì´í„° ì¶”ê°€ (ì„ íƒ)
-- backend/supabase/seed-data.sql ì‹¤í–‰
```

### 4. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰

```bash
cd frontend
npm install
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:5173 ì ‘ì†

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ì£¼ìš” í…Œì´ë¸”

**campaigns** - ê¸°ë¶€ ìº í˜ì¸
- `id` (UUID): ë°ì´í„°ë² ì´ìŠ¤ ê³ ìœ  ID
- `numeric_id` (SERIAL): ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ìš© ìˆ«ì ID
- `title`, `description`: ìº í˜ì¸ ì •ë³´
- `goal_amount`, `current_amount`: ëª©í‘œ/í˜„ì¬ ê¸ˆì•¡
- `deadline`: ë§ˆê°ì¼
- `organization_address`: ë‹¨ì²´ ì§€ê°‘ ì£¼ì†Œ

**users** - ì‚¬ìš©ì
- `id` (UUID): ì‚¬ìš©ì ê³ ìœ  ID
- `wallet_address` (TEXT): ì§€ê°‘ ì£¼ì†Œ
- `email`, `name`: ì‚¬ìš©ì ì •ë³´
- `did`: íƒˆì¤‘ì•™í™” ì‹ ì›
- `points`: ë³´ìœ  í¬ì¸íŠ¸

**donations** - ê¸°ë¶€ ë‚´ì—­
- `campaign_id`: ìº í˜ì¸ ì°¸ì¡°
- `user_id`: ì‚¬ìš©ì ì°¸ì¡°
- `donor_wallet`: ê¸°ë¶€ì ì§€ê°‘
- `amount`: ê¸°ë¶€ ê¸ˆì•¡ (ETH)
- `transaction_hash`: ë¸”ë¡ì²´ì¸ íŠ¸ëœì­ì…˜ í•´ì‹œ
- `certificate_url`: IPFS ì¦ëª…ì„œ URL

**furniture_owned** - ì†Œìœ  ê°€êµ¬
- `user_id`: ì‚¬ìš©ì ì°¸ì¡°
- `furniture_type`: ê°€êµ¬ ì¢…ë¥˜

**user_badges** - ì‚¬ìš©ì ë±ƒì§€
- `user_id`: ì‚¬ìš©ì ì°¸ì¡°
- `badge_type`: ë±ƒì§€ ì¢…ë¥˜
- `earned_at`: íšë“ ì‹œê°

## ğŸ” ì¸ì¦ ë° ë³´ì•ˆ

### ì§€ê°‘ ì§€ì›
- **ì„ë² ë””ë“œ ì§€ê°‘**: ì´ë©”ì¼ë¡œ ìë™ ìƒì„± (ethers.js Wallet)
- **MetaMask**: ì™¸ë¶€ ì§€ê°‘ ì—°ê²°
- **Google OAuth**: Supabase Auth ì—°ë™

### DID (Decentralized Identity)
- í˜•ì‹: `did:pkh:eip155:421614:{address}`
- ì§€ê°‘ ì£¼ì†Œ + ì²´ì¸ ID ê¸°ë°˜ ê³ ìœ  ì‹ë³„
- ê¸°ë¶€ ì¦ëª…ì„œ ë°œê¸‰ ì‹œ ì‚¬ìš©

### Content Security Policy
- Vercel ë°°í¬ ì‹œ CSP í—¤ë” ì„¤ì •
- Supabase, Arbitrum, Google OAuth ë„ë©”ì¸ í—ˆìš©

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸
```
1. ì´ë©”ì¼ ì…ë ¥ â†’ ì„ë² ë””ë“œ ì§€ê°‘ ìƒì„±
2. Google OAuth â†’ Supabase ì¸ì¦
3. MetaMask ì—°ê²° â†’ ì™¸ë¶€ ì§€ê°‘ ì‚¬ìš©
```

### 2. ê¸°ë¶€ í…ŒìŠ¤íŠ¸ ë° ë¸”ë¡ì²´ì¸ í™•ì¸
```
1. ë§ˆì„ì—ì„œ ìº í˜ì¸ ì„ íƒ
2. ê¸ˆì•¡ ì…ë ¥ (ì˜ˆ: 10,000ì›)
3. íŠ¸ëœì­ì…˜ ì„œëª… (MetaMask or ì„ë² ë””ë“œ)
4. íŠ¸ëœì­ì…˜ í•´ì‹œ ìˆ˜ì‹ 
5. ì¸ë²¤í† ë¦¬ â†’ ê¸°ë¶€ ë‚´ì—­ì—ì„œ íŠ¸ëœì­ì…˜ í•´ì‹œ í´ë¦­
6. Arbiscanì—ì„œ ë¸”ë¡ì²´ì¸ ê¸°ë¡ ì‹¤ì‹œê°„ í™•ì¸
   - From: ê¸°ë¶€ì ì§€ê°‘ ì£¼ì†Œ
   - To: ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ
   - Value: ê¸°ë¶€ ê¸ˆì•¡ (ETH)
   - Status: Success âœ…
```

### 3. ê²Œì´ë¯¸í”¼ì¼€ì´ì…˜ í…ŒìŠ¤íŠ¸
```
1. ê¸°ë¶€ í›„ í¬ì¸íŠ¸ íšë“ í™•ì¸
2. ë‚´ ì§‘ì—ì„œ ê°€êµ¬ êµ¬ë§¤
3. ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ë°°ì¹˜
4. ë±ƒì§€ íšë“ ì¡°ê±´ ë‹¬ì„±
```

## ğŸ“ ì£¼ìš” ê¸°ìˆ  ì´ìŠˆ ë° í•´ê²°

### 1. UUID vs ìˆ«ì ID ë§¤í•‘
- **ë¬¸ì œ**: DBëŠ” UUID, ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ëŠ” uint256 ì‚¬ìš©
- **í•´ê²°**: `numeric_id` ì»¬ëŸ¼ ì¶”ê°€í•˜ì—¬ ë“€ì–¼ ID ê´€ë¦¬

### 2. user_address vs user_id ë¶ˆì¼ì¹˜
- **ë¬¸ì œ**: ì´ˆê¸° ìŠ¤í‚¤ë§ˆì™€ ì½”ë“œ ê°„ ì»¬ëŸ¼ëª… ë¶ˆì¼ì¹˜
- **í•´ê²°**: `getUserIdByWallet()` í—¬í¼ í•¨ìˆ˜ë¡œ wallet â†’ user_id ë³€í™˜

### 3. CSP ì •ì±…
- **ë¬¸ì œ**: Vite ë¹Œë“œì—ì„œ eval() ì‚¬ìš©ìœ¼ë¡œ CSP ìœ„ë°˜
- **í•´ê²°**: `unsafe-eval` í—ˆìš© ë° í•„ìš” ë„ë©”ì¸ë§Œ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸

### 4. Arbitrum Sepolia ë„¤íŠ¸ì›Œí¬ ìë™ ì¶”ê°€
- **ë¬¸ì œ**: MetaMaskì— ë„¤íŠ¸ì›Œí¬ê°€ ì—†ëŠ” ê²½ìš° ì—ëŸ¬
- **í•´ê²°**: `wallet_addEthereumChain` ìë™ í˜¸ì¶œ

## ğŸ“œ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

## ğŸ‘¥ íŒ€ ì •ë³´

- **Frontend**: React + TypeScript + Vite
- **Backend**: Supabase + Hono
- **Blockchain**: Solidity + Hardhat + ethers.js

## ğŸ”— ê´€ë ¨ ë§í¬

### í”„ë¡œì íŠ¸ ë§í¬
- **ë°°í¬ëœ ì•±**: https://frontend-5744l5ppb-yenas-projects-4e17e81d.vercel.app
- **ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ (Arbiscan)**: https://sepolia.arbiscan.io/address/0x9e4C6825cbb7a13a0Eb56310239b7A06356E8cA1
- **ì „ì²´ íŠ¸ëœì­ì…˜ ëª©ë¡**: https://sepolia.arbiscan.io/address/0x9e4C6825cbb7a13a0Eb56310239b7A06356E8cA1#internaltx

### ê¸°ìˆ  ë¬¸ì„œ
- [Arbitrum Sepolia Testnet](https://sepolia.arbiscan.io/)
- [Supabase Documentation](https://supabase.com/docs)
- [ethers.js Documentation](https://docs.ethers.org/v6/)
- [Hardhat Documentation](https://hardhat.org/)
- [OpenZeppelin Contracts](https://docs.openzeppelin.com/contracts/)

## ğŸ“§ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì€ GitHub Issuesë¥¼ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.

---

Made with â¤ï¸ by Donation Village Team
